<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Battery Indicator Integration Guide</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 2rem; background: #fafafa; }
    h1, h2 { margin-top: 0; }
    code { background: #eee; padding: 2px 4px; border-radius: 3px; }
    pre { background: #f4f4f4; padding: 1rem; border-radius: 4px; overflow: auto; }
    table { border-collapse: collapse; width: 100%; margin: 1rem 0; }
    th, td { border: 1px solid #ddd; padding: 0.5rem; text-align: left; }
    th { background: #f0f0f0; }
  </style>
</head>
<body>
  <h1>Battery Indicator Integration Guide</h1>

  <h2>Installation</h2>
  <p>Zero dependencies. Import the library after building:</p>
  <pre><code>import 'battery-indicator.esm.js';</code></pre>

  <h2>Web Component Usage</h2>
  <pre><code>&lt;battery-indicator
  width="120"
  height="56"
  color-fill="#22c55e"
  color-stroke="#000"
  color-lightning="#facc15"
  padding="3"
  show-level
  auto-connect&gt;&lt;/battery-indicator&gt;</code></pre>

  <h2>Class Wrapper Usage</h2>
  <pre><code>import { BatteryIndicator } from 'battery-indicator.esm.js';

const battery = new BatteryIndicator({
  width: 120,
  height: 56,
  showLevel: true,
});
battery.mount(document.body);
battery.connectBattery();
battery.addEventListener('batterychange', (e) => {
  console.log(e.detail); // { charging: boolean, level: number }
});</code></pre>

  <h2>Attributes / Props</h2>
  <table>
    <thead>
      <tr><th>Attribute</th><th>Type</th><th>Default</th><th>Description</th></tr>
    </thead>
    <tbody>
      <tr><td>width</td><td>number | string</td><td>120</td><td>SVG width</td></tr>
      <tr><td>height</td><td>number | string</td><td>56</td><td>SVG height</td></tr>
      <tr><td>color-fill</td><td>string</td><td>#22c55e</td><td>Battery fill color</td></tr>
      <tr><td>color-stroke</td><td>string</td><td>#000</td><td>Border color</td></tr>
      <tr><td>color-lightning</td><td>string</td><td>#facc15</td><td>Lightning icon color (charging)</td></tr>
      <tr><td>padding</td><td>number</td><td>3</td><td>Internal padding</td></tr>
      <tr><td>show-level</td><td>boolean</td><td>true</td><td>Show percentage text</td></tr>
      <tr><td>auto-connect</td><td>boolean</td><td>true</td><td>Auto-connect Battery API</td></tr>
    </tbody>
  </table>

  <h2>Events</h2>
  <table>
    <thead>
      <tr><th>Event</th><th>Detail</th><th>Description</th></tr>
    </thead>
    <tbody>
      <tr><td>batterychange</td><td>{ charging, level }</td><td>Fired when charging or level changes</td></tr>
    </tbody>
  </table>

  <h2>Methods (Class Wrapper)</h2>
  <table>
    <thead>
      <tr><th>Method</th><th>Params</th><th>Description</th></tr>
    </thead>
    <tbody>
      <tr><td>connectBattery()</td><td>-</td><td>Connect to navigator.getBattery()</td></tr>
      <tr><td>setCharging(bool)</td><td>charging</td><td>Manually set charging state</td></tr>
      <tr><td>setLevel(0-1)</td><td>level</td><td>Manually set battery level</td></tr>
      <tr><td>destroy()</td><td>-</td><td>Cleanup and unmount</td></tr>
    </tbody>
  </table>

  <h2>Accessibility</h2>
  <p>The component sets <code>aria-label</code> to "Battery charging" or "Battery discharging" automatically.</p>

  <h2>Fallback</h2>
  <p>If the Battery API is unavailable, the component silently degrades. You can still use <code>setCharging</code> and <code>setLevel</code> to control state manually.</p>

  <h2>Demo & Test</h2>
  <ul>
    <li><a href="index.html">Demo Page</a> – Live battery status</li>
    <li><a href="test.html">Test Page</a> – Manual controls for level/charging</li>
  </ul>
</body>
</html>